**107.3 Интернационализация и локализация**

Студент должен уметь установить необходимый язык в системе по умолчанию
и понимать значение «LANG=C» при создании скриптов.

**Изучаем**:

- настройки локализации и переменные среды;

- настройки часового пояса.

Переменная ***LANG=C*** (от языка программирования Си) отключает
интернационализацию и включает в скриптах английский язык по умолчанию.
Многие переменные копируют себе значение **LANG** (при этом их значения
также можно задавать вручную).

- ***env*** (показывает переменные среды);

- ***locale*** (показывает переменные, связанные с локализацией).

Существуют следующие переменные, относящиеся к локализации (**LC\_\***):

⮚ **LC_COLLATE** - формат символов при сравнении строк (например,
используется в скриптах для прочтения вводимых текстовых значений);

⮚ **LC_CTYPE** - формат и преобразование символов (например, заглавная i
по-разному выглядит в разных языках, а какие-нибудь немецкие умляуты
транслитерируются несколькими символами в другие языки)

⮚ **LC_MONETARY** - формат денежных значений (например, 15 руб. 30 коп.
или 15.3 £);

⮚ **LC_NUMERIC** - формат всех числовых значений, кроме денежных
(например, 100 или 100,00);

⮚ **LC_TIME** формат даты и времени (например, 01.12.2010 или
12/01/2010);

⮚ **LC_MESSAGES** - язык сообщений, выводимых в пользовательском
интерфейсе;

⮚ **LC_PAPER** -- формат печатного листа (например, A4 или letter);

⮚ **LC_NAME** -- формат имени (например, сначала имя, потом фамилия и
т.д.)

⮚ **LC_MEASUREMENT** -- формат единиц измерения (например, мили или
километры);

⮚ **LC_IDENTIFICATION** -- формат вывода полной идентификационной
информации (например, сначала имя, потом адрес, потом телефон и т.д.);

⮚ **LC_ADDRESS** -- формат вывода адреса;

⮚ **LC_TELEPHONE** -- формат вывода телефонного номера;

⮚ **LC_ALL** - устанавливает единое значение для всех переменных
локализации;

⮚ **LANG** - языковые параметры, кроме параметров, указанных переменными
выше.

Их значение можно изменить, например:

***LC_TIME=ru_RU.utf8***

***Export LC_TIME***

Чтобы изменить сразу все переменные связанные в локализацей используется
**LC_ALL**, например:

***LC_ALL=ru_RU.utf8***

***Export LC_ALL***

Для того чтобы вернуть индивидуальные настройки каждой переменной,
использовавшиеся до задания **LC_ALL** используется ***Unset LC_ALL***

\_\_\_

Кодировка -- задание символов последовательностью 0 и 1 для ПК.
Существуют 32, 16 и 8-битные кодировки (по количеству бит для
обозначения символов). Самые часто используемые кодировки:

- ASCII (128 символов, в основном текст);

- ISO-8859 (кодовые страницы для разных языков, совместимые между
  собой);

- Windows-1251 (стандартная 8-битная кодировка русскоязычных версий
  Windows);

- UTF-8 (Unicode, видит почти все языки и символы).

Утилита ***iconv*** меняет кодировку документа на выводе (не меняя сам
файл), например:

- ***iconv --list*** (вывести перечень доступных кодировок);

- ***iconv --f UTF-8 --t ASCII /etc/fstab*** (изменить кодировку с UTF-8
  на ASCII файла /etc/fstab и показать его в консоли).

***\_\_\_***

Команда ***date*** показывает текущую дату и время. Можно указать при
помощи нее текущую дату и время, например:

***sudo date 010918001985*** (первое января 18:00 1985 года).

Команда ***tzselect*** в интерактивном режиме диалога с пользователем
устанавливает часовой пояс (по сути устанавливает значение переменной
***TZ***).

Посмотреть текущий часовой пояс можно в файле ***/etc/timezone***
(который может брать значения из директории ***/usr/share/zoneinfo***),
но об этом подробно будет в следующей теме.

Само значение часового пояса в бинарном формате хранится в
***/etc/localtime*** (но об этом подробно тоже в следующей теме).

В последних версиях Linux все чаще для установки часового пояса, даты и
времени используется команда ***timedatectl***. У нее довольно много
ключей, например:

- ***timedatectl set-time \"2012-10-30 18:17:16\"***

- ***timedatectl list-timezones***

- ***timedatectl set-timezone America/Los_Angeles***
