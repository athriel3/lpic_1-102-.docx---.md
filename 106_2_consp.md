**106.2 Настройка менеджера дисплея**

Студент должен знать основные возможности и конфигурацию LightDM, а
также быть знакомым с XDM, GDM и KDM.

**Изучаем**:

- базовую настройку LightDM;

- включение и выключение менеджера дисплеев;

- изменение приветствия;

- свойства XDM, KDM и GDM.

Менеджер дисплея: программа, предоставляющая возможность входа в систему
с использованием графического интерфейса. Можно устанавливать различные
DM, без привязки к конкретной графической среде.

**XDM** (X Display Manger) -- стандартный DM оконной системы X System.

**KDM** (KDE Display Manager) -- DM, входящий в состав среды KDE.

**GDM** (Gnome Display Manager) -- DM, входящий в состав Gnome.

**LightDM** -- DM, аналогичный GDM, входит в Unity, используется в
семействе Ubuntu.

Для знакомства с текущими возможностями менеджера дисплеев их нужно
установить и попробовать по очереди. На момент записи урока у менджеров
дисплеев были следующие возможности:

В Centos для включения и отключения DM (Display Manager) необходимо
изменить уровень выполнения в файле **/etc/inittab** (Runlevel 3 или
Runlevel 5). Для выбора DM в файле **/etc/sysconfig/desktop** нужно
указать необходимый параметром ***DISPLAYMANAGER***=""(KDM, GDM или
XDM).

В Ubuntu для установки менеджеров дисплеев следует выполнить команду
**sudo apt-get install xdm kdm gdm** (после чего возникнет диалог выбора
DM). Для повторного выбора менеджера дисплеев следует запустить команду
**sudo dpkg-reconfigure** , например:

***sudo dpkg-reconfigure kdm***

Посмотреть, что является DM по умолчанию можно в файле
**/etc/X11/default-display-manager**

Для выключения xdm достаточно убрать его скрипты из запуска системы
командой ***update-rc.d -f xdm remove .*** Для включения -- запустить
***sudo dpkg-reconfigure xdm***

Для выключения kdm в файле **/etc/init/kdm.conf** нужно отключить его
выполнение на втором уровне выполнения, приведя строчки конфигурации в
вид:

- ***start on runlevel \[!026\]*** (запускать на всех уровнях кроме 0,2
  и 6)

- ***stop on runlevel \[026\]*** (останавливать на уровнях 0, 2 и 6)

Для включения -- удалить двойку из этих строчек.

Для выключения gdm в Ubuntu в файле **/etc/init/gdm.conf** нужно
отключить его выполнение на втором уровне выполнения, приведя строчку
конфигурации в вид: ***stop on runlevel \[0126\]***. Для включения --
удалить двойку из этой строчки.

\_\_

Изменение приветствия в xdm осуществляется заданием значения
***xlogin\*greeter*** в файле **/etc/X11/xdm/Xresources**

Изменение приветствия в kdm осуществляется заданием значения GreetString
в файле **/etc/kde4/kdm/kdmrc**

Второй вариант: посмотреть в файле **/etc/kde4/kdm/kdmrc** используемую
тему (параметр ***Theme***), найти ее в папке
**/usr/share/kde4/apps/kdm/themes** и уже в файле конфигурации темы
искать строчку с приветствием.

Изменение приветствия в gdm осуществляется заданием параметра
***banner-message-text*** в файле
**/etc/dconf/db/gdm.d/01-banner-message**. После изменения параметра
следует обновить БД командой **sudo dconf update**

\_\_\_

Все настройки lightdm находятся в файле **/etc/lightdm/lightdm.conf**
(там же параметр ***Autologin-user*** определяющий должно ли появляться
окно входа в систему). Все возможные опции можно увидеть в шаблонном
файле **/usr/share/doc/lightdm/lightdm.conf.gz**

Для установки приветствия нужно устанавливать отдельные пакет, например
***apt-get install lightdm-gtk-greeter ,*** после чего смотреть его
настройки в файлах конфигурации в директории **/usr/share/xgreeters**
